{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.tsx","utils/validators/validators.js","components/Login/Login.tsx"],"names":["module","exports","FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","restProps","child","Input","createField","placeholder","name","component","validators","text","validate","required","value","undefined","maxLengthCreator","maxLength","length","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","type","captchaUrl","src","alt","style","formSummaryError","connect","state","isAuth","auth","login","to","formData","email","password","rememberMe","captcha"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB,0C,0PCKrHC,EAAc,SAAC,GAAmD,EAAlDC,MAAmD,IAAD,IAA3CC,KAAOC,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,MAAQC,EAAmB,EAAnBA,SAC3CC,EAAWH,GAAWC,EAC5B,OACI,sBAAKG,UAAWC,IAAEC,YAAc,KAAOH,EAAWE,IAAEJ,MAAQ,IAA5D,UACI,8BACKC,IAEJC,GAAY,+BAAOF,QAKnBM,EAAW,SAACC,GACrB,IAAOV,EAAoCU,EAApCV,MAAuBW,GAAaD,EAA7BT,KAA6BS,EAAvBE,MAApB,YAA2CF,EAA3C,IACA,OAAO,cAACX,EAAD,2BAAiBW,GAAjB,aACH,oDAAcV,GAAWW,QAIpBE,EAAQ,SAACH,GAClB,IAAOV,EAAoCU,EAApCV,MAAuBW,GAAaD,EAA7BT,KAA6BS,EAAvBE,MAApB,YAA2CF,EAA3C,IACA,OAAO,cAACX,EAAD,2BAAiBW,GAAjB,aACH,iDAAWV,GAAWW,QAIjBG,EAAc,SAACC,EAA4BC,EAAcC,EAAgBC,GAA4C,IAA3BR,EAA0B,uDAAlB,GAAIS,EAAc,uDAAP,GACtH,OAAO,gCACH,cAAC,IAAD,aAAOJ,YAAaA,EACbC,KAAMA,EACNC,UAAWA,EACXG,SAAUF,GACNR,IALR,IAKkBS,O,iCCtC7B,oEAAO,IAAME,EAAW,SAAAC,GACpB,OAAOA,OAAQC,EAAY,qBAIlBC,EAAmB,SAACC,GAAD,OAAe,SAACH,GAC5C,OAAOA,EAAMI,OAASD,EAAf,wBAA4CA,EAA5C,iBAAkEF,K,iCCN7E,2FA+CMI,EAAiBC,YAA6B,CAACC,KAAM,SAApCD,EA5B6B,SAAClB,GACjD,OACI,uBAAMoB,SAAUpB,EAAMqB,aAAtB,UAEI,2DACA,0DACA,+CAECjB,YAAY,QAAS,QAASD,IAAO,CAACQ,MACtCP,YAAY,WAAY,WAAYD,IAAO,CAACQ,KAAW,CAACW,KAAM,aAC9DlB,YAAY,KAAM,aAAcD,IAAO,GAAI,CAACmB,KAAM,YAAa,cAE/DtB,EAAMuB,YAAc,qBAAKC,IAAKxB,EAAMuB,WAAYE,IAAI,YACpDzB,EAAMuB,YAAcnB,YAAY,qBAAsB,UAAWD,IAAO,CAACQ,KAAW,IAEpFX,EAAMP,OACH,qBAAKG,UAAa8B,IAAMC,iBAAxB,SACK3B,EAAMP,QAGf,8BACI,mDA6BDmC,uBALS,SAACC,GAAD,MAA0B,CAC9CC,OAAQD,EAAME,KAAKD,OACnBP,WAAYM,EAAME,KAAKR,cAGa,CAACS,WAA1BJ,EApBD,SAAC5B,GAIX,OAAOA,EAAM8B,OACX,cAAC,IAAD,CAAUG,GAAI,aACd,gCACM,uCAGA,cAAChB,EAAD,CAAgBG,SATP,SAACc,GACdlC,EAAMgC,MAAME,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASI,UAQrCf,WAAcvB,EAAMuB","file":"static/js/6.0db4213f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__q_x2r\",\"error\":\"FormsControls_error__1oD5g\",\"formSummaryError\":\"FormsControls_formSummaryError__2FR6z\"};","import React from 'react';\r\n\r\nimport s from './FormsControls.module.css';\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}: any) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Textarea = (props: any) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}>\r\n        <textarea {...input} {...restProps}/>\r\n    </FormControl>\r\n}\r\n\r\nexport const Input = (props: any) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n    </FormControl>\r\n}\r\n\r\nexport const createField = (placeholder: string | null, name: string, component: any, validators: any, props = {}, text = '') => {\r\n    return <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               component={component}\r\n               validate={validators}\r\n               {...props}/> {text}\r\n    </div>\r\n}","export const required = value => {\r\n    return value ? undefined : 'field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    return value.length > maxLength ? `max length is ${maxLength} symbols` : undefined\r\n}\r\n\r\n","import React from 'react';\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport style from '../common/FormsControls/FormsControls.module.css'\r\n\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\n\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<any>> = (props: any) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n\r\n            <p>To log in input this data:</p>\r\n            <p>Email: free@samuraijs.com</p>\r\n            <p>Password: free</p>\r\n\r\n            {createField('email', 'email', Input, [required])}\r\n            {createField('password', 'password', Input, [required], {type: 'password'})}\r\n            {createField(null, 'rememberMe', Input, [], {type: 'checkbox'}, 'rememberMe')}\r\n\r\n            {props.captchaUrl && <img src={props.captchaUrl} alt=\"captcha\"/>}\r\n            {props.captchaUrl && createField('symbols from image', 'captcha', Input, [required], {})}\r\n\r\n            {props.error &&\r\n                <div className = {style.formSummaryError}>\r\n                    {props.error}\r\n                </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType, any>({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props: any) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    return props.isAuth\r\n    ? <Redirect to={\"/profile\"}/>\r\n    : <div>\r\n            <h1>\r\n                Login\r\n            </h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl = {props.captchaUrl}/>\r\n        </div>\r\n\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}