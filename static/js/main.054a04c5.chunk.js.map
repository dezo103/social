{"version":3,"sources":["components/Navbar/Navbar.module.css","reportWebVitals.ts","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","utils/object-helpers.ts","redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","redux/app-reducer.ts","redux/redux-store.ts","App.tsx","index.tsx","components/common/Preloader/Preloader.tsx","assets/images/Fountain.gif","redux/auth-reducer.ts","components/common/Paginator/Paginator.module.css","components/Users/User.module.css","components/Header/Header.module.css","redux/profile-reducer.ts","API/api.ts","assets/images/user.png","redux/dialogs-reducer.ts"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","active","to","activeClassName","activeLink","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","InitialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userID","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","isFollowing","userId","_followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","usersReducer","state","action","followed","filter","id","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","pagination","onClick","p","selectedPage","User","props","user","userWrapper","src","photos","small","userPhoto","disabled","some","unfollow","follow","name","status","Users","getUsersRSL","usersPage","getPageSizeRSL","getTotalUsersCountRSL","getCurrentPageRSL","getIsFetchingRSL","getFollowingInProgressRSL","UsersContainer","getUsers","this","pageTitle","Preloader","React","Component","compose","connect","getState","usersAPI","bind","page","totalCount","Header","header","alt","loginBlock","isAuth","login","logout","HeaderContainer","auth","INITIALIZED_SUCCESS","initialized","initializedSuccess","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","authReducer","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","DialogsContainer","lazy","ProfileContainer","Login","App","catchAllUnhandledErrors","promiseRejectionEvent","console","error","initializeApp","addEventListener","removeEventListener","path","render","Suspense","fallback","exact","AppContainer","withRouter","promise","getAuthUserData","Promise","all","SamuraiJSApp","rerenderEntireTree","ReactDOM","StrictMode","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","email","captchaUrl","payload","setAuthUserData","getCaptchaUrlSuccess","authAPI","me","meData","ResultCodesEnum","Success","password","rememberMe","captcha","ResultCodeForCaptcha","CaptchaIsRequired","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","response","url","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","initialState","postData","likesCount","profile","newPostText","addPostAC","setStatus","getUserProfile","getProfile","getStatus","profileAPI","updateStatus","savePhoto","file","saveProfile","reject","newPost","Date","getTime","instance","axios","create","withCredentials","headers","baseURL","get","post","delete","put","photoFile","formData","FormData","append","res","SEND_MESSAGE","dialogsData","sendMessageAC","newMessageBody","newMessage"],"mappings":"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","file":"static/js/main.054a04c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3nwbb\",\"item\":\"Navbar_item__1Mpue\",\"activeLink\":\"Navbar_activeLink__1WuNl\"};","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News\r\n","import React from \"react\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music\r\n","import React from \"react\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n","\r\nexport const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\r\n\r\n    return items.map((u: any) => {\r\n        return u[objPropName] === itemId\r\n            ? {...u, ...newObjProps}\r\n            : u\r\n    })\r\n}","import {Dispatch} from 'redux'\r\nimport {usersAPI} from '../API/api'\r\nimport {updateObjectInArray} from '../utils/object-helpers'\r\nimport {UsersType} from '../types/types'\r\nimport {AppStateType} from './redux-store'\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USES'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nexport type LocationType = {\r\n    city: string\r\n    country: string\r\n}\r\n\r\nexport type InitialStateType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nconst InitialState: InitialStateType = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: InitialStateType = InitialState, action: ActionsType) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFollowing\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype ActionsType =\r\n    FollowSuccessActionsType |\r\n    UnfollowSuccessActionsType |\r\n    SetUsersActionsType |\r\n    SetCurrentPageActionsType |\r\n    SetTotalUsersCountActionsType |\r\n    ToggleIsFetchingActionsType |\r\n    ToggleFollowingProgressActionsType\r\n\r\ntype FollowSuccessActionsType = {\r\n    type: typeof FOLLOW\r\n    userID: number\r\n}\r\n\r\ntype UnfollowSuccessActionsType = {\r\n    type: typeof UNFOLLOW\r\n    userID: number\r\n}\r\n\r\ntype SetUsersActionsType = {\r\n    type: typeof SET_USERS\r\n    users: Array<UsersType>\r\n}\r\n\r\ntype SetCurrentPageActionsType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: number\r\n}\r\n\r\ntype SetTotalUsersCountActionsType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT\r\n    totalUsersCount: number\r\n}\r\n\r\ntype ToggleIsFetchingActionsType = {\r\n    type: typeof TOGGLE_IS_FETCHING\r\n    isFetching: boolean\r\n}\r\n\r\ntype ToggleFollowingProgressActionsType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n    isFollowing: boolean,\r\n    userId: number\r\n}\r\n\r\nexport const followSuccess = (userID: number) => {\r\n    return {type: FOLLOW, userID: userID} as const\r\n}\r\nexport const unfollowSuccess = (userID: number) => {\r\n    return {type: UNFOLLOW, userID: userID} as const\r\n}\r\nexport const setUsers = (users: Array<UsersType>) => {\r\n    return {type: SET_USERS, users: users} as const\r\n}\r\nexport const setCurrentPage = (currentPage: number) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage} as const\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number) => {\r\n    return {type: SET_TOTAL_USERS_COUNT, totalUsersCount} as const\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching} as const\r\n}\r\nexport const toggleFollowingProgress = (isFollowing: boolean, userId: number) => {\r\n    return {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFollowing, userId} as const\r\n}\r\n\r\ntype GetStateType = () => AppStateType\r\ntype DispatchType = Dispatch<ActionsType>\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => async (dispatch: DispatchType, getState: GetStateType) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nconst _followUnfollowFlow = async (dispatch: DispatchType, userId: number, apiMethod: any, actionCreator: (userId: number) => FollowSuccessActionsType | UnfollowSuccessActionsType) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number): ThunkAction<Promise<void>, AppStateType, unknown, ActionsType> => async (dispatch, getState) => {\r\n    await _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport const unfollow = (userId: number) => async (dispatch: DispatchType) => {\r\n    await _followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n}\r\n\r\nexport default usersReducer\r\n\r\n","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\n\r\ntype PaginatorPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (p: number) => void\r\n    portionSize?: number\r\n}\r\n\r\nconst Paginator: React.FC<PaginatorPropsType> = ({totalItemsCount,\r\n                                                     pageSize,\r\n                                                     currentPage,\r\n                                                     onPageChanged,\r\n                                                     portionSize = 10\r\n                                                 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pages: Array<number> = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={styles.pagination}>\r\n            { portionNumber > 1 &&\r\n            <button onClick = {() => { setPortionNumber(portionNumber - 1)}}>PREV</button> }\r\n\r\n            {\r\n                pages\r\n                    .filter(p => p >= leftPortionPageNumber &&  p<= rightPortionPageNumber)\r\n                    .map((p) => {\r\n                    return <span className={currentPage === p ? styles.selectedPage : \"\"}\r\n                                 onClick={() => onPageChanged(p)}>{p} </span>\r\n                })\r\n            }\r\n\r\n            { portionCount > portionNumber &&\r\n                <button onClick = {() => { setPortionNumber(portionNumber + 1)}}>NEXT</button> }\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport styles from \"./User.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UsersType} from \"../../types/types\";\r\n\r\nexport type UserPropsType = {\r\n    user: UsersType\r\n    follow: (userID: number) => void\r\n    unfollow: (userID: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nexport const User = (props: UserPropsType) => {\r\n    let user = props.user\r\n    return <div className={styles.userWrapper} >\r\n            <div>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n                         className={styles.userPhoto}/>\r\n                </NavLink>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            props.unfollow(user.id)\r\n                        }}>unfollow</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            props.follow(user.id)\r\n                        }}>follow</button>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                        <span>\r\n                            <div>{user.name}</div>\r\n                            <div>{user.status}</div>\r\n                        </span>\r\n                <span>\r\n                            <div>{\"user.location.country\"}</div>\r\n                            <div>{\"user.location.city\"}</div>\r\n                </span>\r\n            </div>\r\n        </div>\r\n}\r\n","import React, {FC} from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\nimport {UsersType} from \"../../types/types\";\r\n\r\nexport type UsersPropsType = {\r\n    users: Array<UsersType>\r\n    follow: (userID: number) => void\r\n    unfollow: (userID: number) => void\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (p: number) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nexport const Users: FC<UsersPropsType> = ({\r\n                                                    users,\r\n                                                    follow,\r\n                                                    unfollow,\r\n                                                    totalUsersCount,\r\n                                                    pageSize,\r\n                                                    currentPage,\r\n                                                    onPageChanged,\r\n                                                    followingInProgress\r\n                                                }) => {\r\n\r\n    return <div>\r\n        <Paginator totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n                   currentPage={currentPage}\r\n                   onPageChanged={onPageChanged}\r\n        />\r\n\r\n        {users.map(u => <User\r\n            key={u.id}\r\n            user={u}\r\n            follow={follow}\r\n            unfollow={unfollow}\r\n            followingInProgress={followingInProgress}\r\n        />)}\r\n    </div>\r\n}\r\n","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const getUsersRSL = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSizeRSL = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCountRSL = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPageRSL = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetchingRSL = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgressRSL = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {ComponentType} from 'react'\r\nimport {connect} from \"react-redux\"\r\n\r\nimport {AppStateType} from \"../../redux/redux-store\"\r\nimport {\r\n    follow,\r\n    requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/users-reducer\"\r\nimport {Users} from \"./Users\"\r\nimport {Preloader} from \"../common/Preloader/Preloader\"\r\nimport {compose} from \"redux\"\r\nimport {\r\n    getCurrentPageRSL, getFollowingInProgressRSL,\r\n    getIsFetchingRSL,\r\n    getPageSizeRSL,\r\n    getTotalUsersCountRSL,\r\n    getUsersRSL\r\n} from \"../../redux/users-selectors\"\r\nimport {UsersType} from \"../../types/types\"\r\n\r\nexport type MapStatePropsType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\nexport type UsersAPIPropsType = {\r\n    users: Array<UsersType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n\r\n    // setCurrentPage: (currentPage: number) => void\r\n    // follow: (userID: number) => void\r\n    // unfollow: (userID: number) => void\r\n    // toggleFollowingProgress: (isInProgress: boolean, uId: number) => void\r\n    // getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nexport type MapDispatchPropsType = {\r\n    setCurrentPage: (currentPage: number) => void\r\n    follow: (userID: number) => void\r\n    unfollow: (userID: number) => void\r\n    toggleFollowingProgress: (isInProgress: boolean, uId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\ntype OwnPropsType = {\r\n    pageTitle: string //doesn't work because of error from App.ts. (react children ...)\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & OwnPropsType\r\n\r\nexport class UsersContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount(): void {\r\n        let {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (p: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(p, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <h2>{this.props.pageTitle}</h2>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                pageSize={this.props.pageSize}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        users: getUsersRSL(state),\r\n        pageSize: getPageSizeRSL(state),\r\n        totalUsersCount: getTotalUsersCountRSL(state),\r\n        currentPage: getCurrentPageRSL(state),\r\n        isFetching: getIsFetchingRSL(state),\r\n        followingInProgress: getFollowingInProgressRSL(state)\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        getUsers: requestUsers\r\n    })\r\n)(UsersContainer)\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props: any)=> {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Logo%21_Logo.svg/1200px-Logo%21_Logo.svg.png\"\r\n                alt=\"\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div> {props.login} <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component<any> {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)\r\n","import {Dispatch} from 'redux';\r\nimport {getAuthUserData} from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS'\r\n\r\nconst InitialState: InitialStateType = {\r\n    initialized: false\r\n}\r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nexport const appReducer = (state = InitialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype InitializedSuccessActionType = {\r\n    type: typeof INITIALIZED_SUCCESS\r\n}\r\n\r\nexport const initializedSuccess = (): InitializedSuccessActionType => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch: Dispatch<any>) => {\r\n    let promise:any = dispatch(getAuthUserData())\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n\r\n    dispatch(initializedSuccess())\r\n}\r\n\r\n\r\n\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\"\r\nimport profileReducer from \"./profile-reducer\"\r\nimport dialogsReducer from \"./dialogs-reducer\"\r\nimport usersReducer from \"./users-reducer\"\r\nimport {authReducer} from \"./auth-reducer\"\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./app-reducer\"\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\nexport type RootStateType = typeof store\r\n\r\nexport default store\r\n\r\n//@ts-ignore\r\nwindow.store=store\r\n\r\n// console.log(store.getState())\r\n","import React, {ComponentType} from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {HashRouter, Redirect, Route, withRouter} from 'react-router-dom';\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\r\nconst Login = React.lazy(() => import(\"./components/Login/Login\"))\r\n\r\nclass App extends React.Component<any, any> {\r\n\r\n    catchAllUnhandledErrors = (promiseRejectionEvent: any) => {\r\n        console.error(promiseRejectionEvent)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n        window.addEventListener('unhandleedrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandleedrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className=\"app-wrapper-content\">\r\n                    <Route path={'/dialogs'} render={() => {\r\n                        return <React.Suspense fallback={<Preloader/>}>\r\n                            <DialogsContainer/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n                    <Route path={'/profile/:userId?'} render={() => {\r\n                        return <React.Suspense fallback={<Preloader/>}>\r\n                            <ProfileContainer/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n                    <Route exact path={'/'} render={() => {\r\n                        return <Redirect to={'/profile'}/>\r\n                    }}/>\r\n                    <Route path={'/news'} render={() => <News/>}/>\r\n                    <Route path={'/music'} render={() => <Music/>}/>\r\n                    <Route path={'/settings'} render={() => <Settings/>}/>\r\n                    <Route path={'/users'} render={() => <UsersContainer />}/>\r\n                    <Route path={'/login'} render={() => {\r\n                        return <React.Suspense fallback={<Preloader/>}>\r\n                            <Login/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n                    {/*<Route exact path={'*'} render={() => <div>404 not found</div>}/>*/}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose<ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App)\r\n\r\nconst SamuraiJSApp = (props: any) => {\r\n    return <HashRouter>\r\n                <Provider store={store}>\r\n                    <AppContainer />\r\n                </Provider>\r\n            </HashRouter>\r\n        }\r\n\r\nexport default SamuraiJSApp\r\n\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from 'react-dom';\r\nimport SamuraiJSApp from './App';\r\n\r\n\r\nexport const rerenderEntireTree = () => {\r\n    ReactDOM.render(\r\n        <React.StrictMode>\r\n            <SamuraiJSApp />\r\n        </React.StrictMode>,\r\n        document.getElementById('root')\r\n    );\r\n}\r\n\r\nrerenderEntireTree()\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import React from 'react';\r\nimport spinner from \"../../../assets/images/Fountain.gif\";\r\n\r\nexport const Preloader = () => {\r\n    return <div>\r\n        <img src={spinner} alt={'spinner'}/>\r\n    </div>\r\n};\r\n\r\n","export default \"data:image/gif;base64,R0lGODlhjAASANU6AOzu7JSSlNza3KSmpNze3KyqrPTy9NTW1AQGBJSWlOTi5NTS1Ozq7IyOjPz6/KSipOTm5LSytMzOzMTGxIyKjMTCxJyenBQWFMzKzHR2dJyanGRiZFRSVExKTDQ2NDQyNCQmJGxubGxqbDw6PPT29AwKDFxaXBwaHExOTHx6fGRmZBQSFFxeXCwuLLy+vHRydFRWVCwqLCQiJAwODISGhISChHx+fPz+/AQCBP///////wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZCMTc0QTYzMUI2MTExRTdCNTI1RjIxNkE2RjFCMDkxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZCMTc0QTY0MUI2MTExRTdCNTI1RjIxNkE2RjFCMDkxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkIxNzRBNjExQjYxMTFFN0I1MjVGMjE2QTZGMUIwOTEiIHN0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\"","import {Dispatch} from 'redux'\r\nimport {authAPI, ResultCodeForCaptcha, ResultCodesEnum, securityAPI} from '../API/api'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet InitialState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null\r\n}\r\n\r\nexport type InitialStateType = typeof InitialState\r\n\r\nexport const authReducer = (state = InitialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport type setAuthUserDataPayloadType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\n\r\nexport type setAuthUserDataActionType = {\r\n    type: typeof SET_USER_DATA\r\n    payload: setAuthUserDataPayloadType\r\n}\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): setAuthUserDataActionType => ({\r\n    type: 'samurai-network/auth/SET_USER_DATA',\r\n    payload: {userId, email, login, isAuth}\r\n})\r\n\r\ntype getCaptchaUrlSuccessActionType = {\r\n    type: typeof GET_CAPTCHA_URL_SUCCESS\r\n    payload: {captchaUrl: string}\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): getCaptchaUrlSuccessActionType => ({\r\n    type: 'samurai-network/auth/GET_CAPTCHA_URL_SUCCESS',\r\n    payload: {captchaUrl}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    let meData = await authAPI.me()\r\n\r\n    if (meData.resultCode === ResultCodesEnum.Success) {\r\n        let {id, email, login} = meData.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: Dispatch<any>) => {\r\n    let data = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (data.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n            dispatch(getCaptchaUrl())\r\n        } else {\r\n            let message = data.messages.length > 0\r\n                ? data.messages[0]\r\n                : 'Some error'\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: Dispatch<any>) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n\r\n    // if (response.data.url == 0) {\r\n    //     dispatch(getAuthUserData())\r\n    // } else {\r\n    //     let message = response.data.messages.length > 0\r\n    //         ? response.data.messages[0]\r\n    //         : 'Some error'\r\n    //     dispatch(stopSubmit('login', {_error: message}))\r\n    // }\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.logout()\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__2XhYg\",\"selectedPage\":\"Paginator_selectedPage__EMyUE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrapper\":\"User_userWrapper__K2UtC\",\"userPhoto\":\"User_userPhoto__1N43a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1WnDY\",\"loginBlock\":\"Header_loginBlock__1K_v4\"};","import {ActionsTypes} from './store';\r\nimport {Dispatch} from 'redux';\r\nimport {profileAPI, usersAPI} from '../API/api';\r\nimport {AppStateType} from './redux-store';\r\nimport {stopSubmit} from 'redux-form';\r\nimport {PhotosType, PostType, ProfileType} from \"../types/types\";\r\n\r\nexport type AddPostActionType = ReturnType<typeof addPostAC>\r\nexport type SetUserProfileActionType = ReturnType<typeof setUserProfile>\r\nexport type SetStatusActionType = ReturnType<typeof setStatus>\r\nexport type DeletePostActionType = ReturnType<typeof deletePost>\r\nexport type SavePhotoSuccessActionType = ReturnType<typeof savePhotoSuccess>\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_STATUS = 'SET-STATUS'\r\nconst DELETE_POST = 'DELETE-POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE-PHOTO-SUCCESS'\r\n\r\n\r\n// export type ProfilePageType = {\r\n//     postData: PostDataType\r\n//     profile: ProfileType\r\n//     status: string\r\n// }\r\n\r\nexport type PostDataType = Array<PostType>\r\n\r\nconst initialState = {\r\n    postData: [\r\n        {id: 1, message: 'Hi hi hi', likesCount: 12},\r\n        {id: 5, message: 'cryptocurency - is the best investment', likesCount: 12},\r\n    ] as PostDataType,\r\n    profile: null as ProfileType | null,\r\n    status: '',\r\n    newPostText: ''\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\n\r\nconst profileReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost: PostType = {\r\n                id: new Date().getTime(),\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                newPostText: '',\r\n                postData: [...state.postData, newPost]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case SET_STATUS:\r\n            return {...state, status: action.status}\r\n        case DELETE_POST:\r\n            return {...state, postData: state.postData.filter(p => p.id != action.id )}\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype AddPostACActionType = {\r\n    type: typeof ADD_POST\r\n    newPostText: string\r\n}\r\nexport const addPostAC = (newPostText: string): AddPostACActionType => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText: newPostText\r\n    } as const\r\n}\r\n\r\n// type SetUserProfileActionType = {\r\n//     type: typeof SET_USER_PROFILE\r\n//     profile: ProfileType\r\n// }\r\nexport const setUserProfile = (profile: ProfileType) => ({type: SET_USER_PROFILE, profile} as const)\r\n\r\n// type SetStatusActionType = {\r\n//     type: typeof SET_STATUS\r\n//     status: string\r\n// }\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status} as const)\r\n\r\n// type DeletePostActionType = {\r\n//     type: typeof DELETE_POST\r\n//     id: number\r\n// }\r\nexport const deletePost = (id: number) => ({type: DELETE_POST, id} as const)\r\nexport const savePhotoSuccess = (photos: PhotosType) => ({type: SAVE_PHOTO_SUCCESS, photos} as const)\r\n\r\n\r\nexport const getUserProfile = (userId: number | null) => async (dispatch: Dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\nexport const getStatus = (userId: number) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n    }\r\n    catch(error) {\r\n        console.error(error)\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: any) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType) => async (dispatch: Dispatch<any>, getState:() => AppStateType) => {\r\n    const userId = getState().auth.userId\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId))\r\n    }\r\n    else {\r\n        let message = response.data.messages.length > 0\r\n            ? response.data.messages[0]\r\n            : 'Some error'\r\n        dispatch(stopSubmit('edit-profile', {_error: message}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\nexport default profileReducer\r\n","import axios from \"axios\";\r\nimport {ProfileType} from \"../types/types\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"8898ea91-03a8-4dfb-a060-ee03c44fe9f7\"\r\n    },\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\"\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId: number | null) {\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photoFile: any) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\ntype MeResponseType = {\r\n    data: {\r\n        id: number\r\n        email: string\r\n        login: string\r\n    }\r\n    resultCode: ResultCodesEnum\r\n    messages: Array<string>\r\n}\r\n\r\ntype LoginResponseType = {\r\n    data: {\r\n        userId: number\r\n    }\r\n    resultCode: ResultCodesEnum | ResultCodeForCaptcha\r\n    messages: Array<string>\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<MeResponseType>(`auth/me`).then(res=>res.data)\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: string | null = null) {\r\n        return instance.post<LoginResponseType>(`auth/login`, {email, password, rememberMe, captcha})\r\n            .then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\n\r\n\r\n","export default \"data:image/png;base64,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\"","import {ActionsTypes} from './store';\r\n\r\nexport type SendMessageActionType = ReturnType<typeof sendMessageAC>\r\n\r\nconst SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nconst initialState = {\r\n    dialogsData: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Artem'},\r\n        {id: 3, name: 'Sanya'},\r\n        {id: 4, name: 'Julia'},\r\n        {id: 5, name: 'Losara'},\r\n        {id: 6, name: 'Jane'},\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you'},\r\n        {id: 3, message: 'Yo'}\r\n    ] as Array<MessageType>\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const newMessage: MessageType = {\r\n                id: 6,\r\n                message: action.newMessageBody\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype sendMessageACActionType = {\r\n    type: typeof SEND_MESSAGE\r\n    newMessageBody: string\r\n}\r\n\r\nexport const sendMessageAC  = (newMessageBody: string): sendMessageACActionType => {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessageBody: newMessageBody\r\n    } as const\r\n}\r\n\r\nexport default dialogsReducer\r\n"],"sourceRoot":""}